<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GEORGES QSO LOG</title>
<style>
  body {
    background: #000033;
    color: #99ccff;
    font-family: Arial, sans-serif;
    padding: 20px;
  }
  h1 {
    text-align: center;
    color: #66ccff;
    margin-bottom: 20px;
  }
  .container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    gap: 20px;
  }
  .image-container {
    flex-shrink: 0;
    max-width: 180px;
  }
  .image-container img {
    width: 100%;
    max-height: 200px;
    border: 4px solid #0099ff;
    animation: blueFlash 2s infinite alternate;
    display: block;
    margin-bottom: 8px;
  }
  .image-label {
    text-align: center;
    color: #66ccff;
    font-weight: bold;
    font-size: 14px;
  }
  table {
    border-collapse: separate;
    border-spacing: 0 10px 30px 10px; /* vertical and horizontal gaps */
    width: 80vw;
    max-width: 900px;
    margin: 0 auto;
    background: #001a4d;
    border-radius: 10px;
    overflow: hidden;
  }
  thead th {
    padding: 12px 8px;
    background: #004080;
    color: #99ccff;
    font-weight: bold;
    border-bottom: 2px solid #007fff;
    text-align: center;
  }
  /* Empty columns as spacers */
  th.spacer, td.spacer {
    width: 10px;
    background: transparent;
    border: none;
    padding: 0;
  }
  tbody td {
    padding: 8px 10px;
    color: #cce6ff;
    text-align: center;
    border-bottom: 1px solid #003366;
    font-size: 14px;
  }
  tbody tr:hover {
    background: #004080;
  }
  @keyframes blueFlash {
    0% { border-color: #0059b3; }
    100% { border-color: #00ccff; }
  }
</style>
</head>
<body>
  <h1>26-CT-1664 - GEORGES QSO LOG</h1>
  <div class="container">
    <div class="image-container">
      <img src="https://cdn.discordapp.com/attachments/1272935566035652695/1379946818619703377/494740562_1046815160662024_7184481897838236543_n.jpg" alt="Antenna" />
      <div class="image-label">Antenna</div>
    </div>

    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th class="spacer"></th>
          <th>Time</th>
          <th class="spacer"></th>
          <th>Name</th>
          <th class="spacer"></th>
          <th>My Signal</th>
          <th class="spacer"></th>
          <th>Location</th>
          <th class="spacer"></th>
          <th>Contact Name</th>
          <th class="spacer"></th>
          <th>Frequency</th>
          <th class="spacer"></th>
          <th>Mode</th>
        </tr>
      </thead>
      <tbody id="qsoTableBody">
        <!-- Rows will be inserted here -->
      </tbody>
    </table>

    <div class="image-container">
      <img src="https://cdn.discordapp.com/attachments/1272935566035652695/1379946819055915028/495291255_1051152326894974_7591054905816117297_n.jpg" alt="Rig" />
      <div class="image-label">Rig</div>
    </div>
  </div>

<script>
  async function fetchAndUpdate() {
    try {
      const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vQn_XSyS8DIfkZfQr8g1NDN4ZJLeO3LnOR87tOj3d1GybMhUCS0gtyyyKcvUshmFfGefofdlYcuDlqI/pub?output=csv');
      if (!response.ok) throw new Error('Network response was not ok');
      const csvText = await response.text();
      const rows = csvText.trim().split('\n').map(row => row.split(','));
      // Remove header row and check data
      const dataRows = rows.slice(1);

      const tbody = document.getElementById('qsoTableBody');
      tbody.innerHTML = '';

      dataRows.forEach(row => {
        const tr = document.createElement('tr');
        // Expected CSV columns: Date, Time, Name, My Signal, Location, Contact Name, Frequency, Mode
        // Add td for each with spacer td between columns

        function addCell(text) {
          const td = document.createElement('td');
          td.textContent = text;
          tr.appendChild(td);
        }
        function addSpacer() {
          const spacer = document.createElement('td');
          spacer.className = 'spacer';
          spacer.innerHTML = '&nbsp;';
          tr.appendChild(spacer);
        }

        addCell(row[0]); // Date
        addSpacer();
        addCell(row[1]); // Time
        addSpacer();
        addCell(row[2]); // Name
        addSpacer();
        addCell(row[3]); // My Signal
        addSpacer();
        addCell(row[4]); // Location
        addSpacer();
        addCell(row[5]); // Contact Name
        addSpacer();
        addCell(row[6]); // Frequency
        addSpacer();
        addCell(row[7]); // Mode

        tbody.appendChild(tr);
      });

    } catch (error) {
      console.error('Error fetching CSV:', error);
    }
  }
  fetchAndUpdate();
  setInterval(fetchAndUpdate, 60000); // Refresh every 60 seconds
</script>
</body>
</html>
